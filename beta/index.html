<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Get Annie Chan</title>
  <link rel="icon" href="favicon.png" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body oncontextmenu="return false;">

  <div class="card">
    <h1 class="site-title">
      Welcome to Get Annie Chan 
      <img 
        src="annie_thumb.jpg" 
        alt="Annie Icon" 
        class="annie-icon" 
        onclick="location.reload();" 
        oncontextmenu="return false;" 
        draggable="false"
      />
    </h1>

    <a id="downloadButton" href="annie_chan.png" onclick="handleDownload(event);" draggable="false">
      <button class="button" draggable="false">Get Annie Chan</button>
    </a>

    <div class="extras-container">
      <a href="/extras" class="underline-link" draggable="false">Extras</a>
    </div>
  </div>

  <div class="credits">
    <strong>Credits & Fair Use</strong>
    <p>(Website by GAC) – Published by GAC / For Entertainment Purposes Only</p>
    <p>Maintained & Updated by GAC Web Division</p>
    <p>Version 2.2.1 Beta 4 – 2025 Edition – Produced at GAC Web Division</p>
    <p>"This artwork speaks to me, and the rest of the world should see it. Support the artist."</p>
    <p><span class="pulse-pink"><strong>Featuring artwork from ctchrysler</strong></span> <a href="https://www.deviantart.com/dctb/art/Annie-Chan-579680748" target="_blank">“Annie Chan”</a> dCTb ©2015</p>
    <p><strong>Fair Use Disclaimer:</strong> This site falls under fair use as a non-commercial, transformative tribute. If the original creator wishes for its removal, it will be taken down immediately.</p>
    <p>© 2025 GAC</p>
    <p><em>2020 marked the 5th Annie-versary of Annie Chan.</em></p>
    <p>Peace and <a href="https://m.youtube.com/watch?v=gDg7XKHPix8" style="text-decoration: none;">Love</a></p>
  </div>

  <!-- Pop-Up -->
  <div id="popupOverlay" class="popup-overlay">
    <div class="popup">
      <span id="closePopup" class="popup-close">&times;</span>
      <img src="megan_thumb.jpg" alt="Get Megan" class="popup-thumb" />
      <div class="popup-text">A new project is coming soon – Get Megan!</div>
    </div>
  </div>

  <!-- Pill -->
  <div id="popupPill" class="popup-pill" style="display: none;" onclick="showPopup()">
    <img src="megan_thumb.jpg" alt="Get Megan" class="popup-thumb-small" />
    <span>Get Megan</span>
  </div>

  <script>
    function getIOSVersion() {
      const match = navigator.userAgent.match(/OS (\d+)_/);
      return match ? parseInt(match[1]) : null;
    }

    function handleDownload(event) {
      const ios = getIOSVersion();
      if (ios >= 11) {
        const link = document.createElement("a");
        link.href = "annie_chan.png";
        link.download = "annie_chan.png";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      } else {
        window.open("annie_chan.png", "_blank");
      }
      event.preventDefault();
    }

    const popupOverlay = document.getElementById("popupOverlay");
    const popupPill = document.getElementById("popupPill");
    const closePopup = document.getElementById("closePopup");

    function showPopup() {
      popupOverlay.style.display = "flex";
      popupPill.style.display = "none";
    }

    function hidePopup() {
      popupOverlay.style.display = "none";
      popupPill.style.display = "flex";
      localStorage.setItem("popupDismissed", "true");
    }

    closePopup.onclick = hidePopup;

    window.onload = () => {
      if (!localStorage.getItem("popupDismissed")) {
        showPopup();
      } else {
        popupOverlay.style.display = "none";
        popupPill.style.display = "flex";
      }
    };
  </script>
</body>
</html>