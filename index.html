<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Get Annie Chan</title>

  <!-- Favicon and Apple Touch Icon -->
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css" />

  <!-- Web App Manifest -->
  <link rel="manifest" href="manifest.json" />
</head>
<body>
  <div class="container">
    <h1>Welcome to Get Annie Chan 🌸</h1>

    <!-- Main Download Button -->
    <a id="downloadButton" href="annie_chan.png" onclick="handleDownload(event);">
      <button class="default-btn">Get Annie Chan</button>
    </a>

    <!-- Extras Tab -->
    <a href="extras.html" class="extras-link">Extras</a>
  </div>

  <!-- Footer & Info -->
  <p class="footer">Website made with ❤️</p>
  <p class="copyright">© 2025 GAC</p>
  <p class="version">Version 1.2.3</p>
  <p style="font-size: 12px; color: #777; margin-top: 10px;">
    Peace & <a href="https://www.youtube.com/watch?v=PUT_DAFT_MAFIA_LINK_HERE" target="_blank" style="text-decoration: none; color: inherit;">Love</a>
  </p>

  <!-- JS -->
  <script>
    function triggerHapticFeedback() {
      if ("vibrate" in navigator) {
        navigator.vibrate(50);
      }
    }

    function getIOSVersion() {
      const match = navigator.userAgent.match(/OS (\d+)_/);
      return match ? parseInt(match[1]) : null;
    }

    function handleDownload(event) {
      const ios = getIOSVersion();
      if (ios >= 11) {
        const link = document.createElement("a");
        link.href = "annie_chan.png";
        link.download = "annie_chan.png";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      } else {
        window.open("annie_chan.png", "_blank");
      }
      triggerHapticFeedback();
      event.preventDefault();
    }
  </script>
</body>
</html>